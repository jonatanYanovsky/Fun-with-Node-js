<!DOCTYPE html>



<head>
	<title>My Title</title>
	<link rel="icon" type="image/jpeg" href="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Complex_sqrt_leaf1.jpg/200px-Complex_sqrt_leaf1.jpg"/>
</head>

<body onload="server()">
	
	<script>
	var welcomeText = "Welcome Visitor #";
	var visitorCount = 0;
	
	function setTickerCount(xhttp) {
		visitorCount = "" + xhttp.responseText;
		document.getElementById("ticker").innerHTML = welcomeText + visitorCount + "!";
			
		//document.getElementById("ticker").innerHTML = welcomeText + visitorCount + "!";
	}
	
	function server() { // same as above, but actually contacts server
	
		var xhttp = new XMLHttpRequest();
		
		// onreadystatechange
		// https://github.com/SkylerMalinowski/WBSF/blob/master/1_Code/Website/JavaScript/userHelpers.js
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				setTickerCount(this);
				//visitorCount = "" + this.responseText;
				//document.getElementById("ticker").innerHTML = welcomeText + visitorCount + "!";
			}
		};
		
		xhttp.open("GET", "http://localhost:8080/getTicker", true);
		xhttp.send();
		//xhttp.onreadystatechange = handleReadyStateChange;
	}
	
	
	
	/*function handleReadyStateChange() {
		if (xhttp.readyState == 4 && xhttp.status == 200) {
			
			visitorCount = "" + xhttp.responseText;
			document.getElementById("ticker").innerHTML = welcomeText + visitorCount + "!";
		}
	}*/
		
	
	</script>
	
	
	<h1>Some Text</h1>
	<p>Paragraph 1</p>
	<p>Paragraph 2</p>
	<h2>Some more text</h2>
	<h3>Thank <i>You!</i></h3>
	<p>Have a <br> 
	<b>line break</b> 
	<br> today! </p>
	<p>Where I pulled this from:</p>
	<p><a href="https://en.wikipedia.org/wiki/HTML">HERE</a></p>
	<p><a href="https://www.w3schools.com/nodejs/nodejs_uploadfiles.asp">and here.</a></p>
	<br>
	<p><a href ="https://www.youtube.com/watch?v=iXAbte4QXKs&t=2421s">Some Power:<br>
	<img src="https://yt3.ggpht.com/-xWPNU1jBfXQ/AAAAAAAAAAI/AAAAAAAAAAA/qnHAqNQov70/s88-c-k-no-mo-rj-c0xffffff/photo.jpg" 
	alt="A random image" width="100" height="100" border="0"></a></p>
	<br>
	<p>----------------------------</p>
	<p id="ticker"></p> <!-- ticker element here -->
	
</body>